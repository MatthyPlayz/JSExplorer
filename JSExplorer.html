<input type="text" id="dwtext" placeholder="Write Text Here" /><button onclick="documentw()">Write Text</button>
<br />
<input type="text" id="cltext" placeholder="Write Text Here" /><button onclick="consolel()">Write Text <br />(in JS console)</button>
<br />
<link rel="shortcut icon" href="favicon.ico"/>
<input type="text" id="roundtext" placeholder="Round number in here" /><button onclick="mathfloor()">Round a number</button>
<button style="position: absolute; top: 95%; left: 0px; width: 100%;" onclick="finish()">Finished! (get code)</button>
<script>
var fs = require('fs');  
var path = require('path');  
var http = require('http');

var staticBasePath = './static';

var staticServe = function(req, res) {  
    var fileLoc = path.resolve(staticBasePath);
    fileLoc = path.join(fileLoc, req.url);

        var stream = fs.createReadStream(fileLoc);

        stream.on('error', function(error) {
            res.writeHead(404, 'Not Found');
            res.end();
        });

        stream.pipe(res);
};

var httpServer = http.createServer(staticServe);  
httpServer.listen(8080);  
  // code from a Stack Overflow post answer. Thanks!
  function download(filename, text) {
    var element = document.createElement('a');
    element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
    element.setAttribute('download', filename);
  
    element.style.display = 'none';
    document.body.appendChild(element);
  
    element.click();
  
    document.body.removeChild(element);
  }
</script>
<script>
  //All my code :D
  
  //Define the variable to put the code in. Will also be used for downloading.
  var code = "";
  //Other variables, used in the functions mostly
  //Rounding (Math.floor()) and logging/HTML outputting the outputvar code = "";
  function mathfloor() {
    var roundtextv = roundtext.value;
    var thing = roundtextv.split("log");
	var thinga = thing.splice(1, 2);
    if(roundtextv.includes("log ")) {
  	var roundtextv = roundtext.value;
      code += " console.log(Math.floor(" + thinga + "));";
    } else {
      code += " Math.floor(" + roundtext.value + ");";
    }
  }
  //Write text with HTML
  function documentw() {
    code += " document.write(\"" + dwtext.value + "\");";
  }
  //Log something in the JavaScript console (console.log())
  function consolel() {
    code += " console.log(\"" + cltext.value + "\");";
  }
  //Download the code in a .txt file
  function finish() {
    console.log("Code exporting. Code: \n" + code);
    download("JSexplorer_code.txt", code);
  }
</script>

